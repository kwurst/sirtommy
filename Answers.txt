Xuan Ha Nghiem 
3/8/2017 
Building Systems - Coding Style Checking 
Checkstyle Tool
1. What Maven command did you use?
mvn site 

1. Where does Maven put the report files?
The report files are in the target/site directory. Directly in the target directory, checkstyle created 2 xml files, checkstyle-checker and checkstyle-result, and the checkstyle-cachefile. The site directory contains the HTML file checkstyle to open web browser summary of errors. It also contains the RSS file.


1. How many errors were found?
A total of 151 errors were found, 66 from Card.java, 85 from SirTommy.java.


1. Pick one error, look at the line of code marked for the error, and explain the error.
One error from the Card.java file on line 21 is in the category imports. The rule is AvoidStarImport and the message is “Using the '.*' form of import should be avoided - java.util.*.” The error is as stated that the  '.*' form of import should be avoided on line 21. 


1. If I wanted to start a religious war and change the number of spaces used for indentation to 5, how would I go about doing that?
The Checkstyle whitespace default configurations can be changed by added a checkstyle.xml file to the top of the project directory, which will allow changes to the default settings of the white space indentations. Commands in the report section of the code to initiate the checkstyle.xml file are below: 


  <reporting>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-checkstyle-plugin</artifactId>
            <version>2.17</version>
            <configuration>
              <configLocation>checkstyle.xml</configLocation>
            </configuration>
          </plugin>
        </plugins>
  </reporting>


The default indentation for checkstyle is 4, based on website http://checkstyle.sourceforge.net/config_misc.html#Indentation, so to change the configuration, the indentation line of code can be added to the xml file, the module indentation can be added with changing value to 5.




<module name="Indentation"/>
<module name="Indentation">
   <property name="caseIndent" value="5"/>
</module>


The property name for the tabwidth can also be changes to 5.


FindBugs Tool
1. What Maven command did you use?
mvn clean compile site
1. Where does Maven put the report files?
The report files are in target/site. Target contains the 2 findbugs xml files. The site directory contains the findbugs link to the findbugs report.
1. How many errors were found?
Overall, there were 6 classes, 8 bugs, but zero errors and missing classes found.
1. Look at the error in the Card class, look at the line of code marked for the error, read the details link in the report, and explain the error. 
Bug 
edu.worcester.cs.kwurst.cs242.Card defines equals and uses Object.hashCode() -- line 92, high priority
Category
BAD_PRACTICE 
Details 
HE_EQUALS_USE_HASHCODE


The class defines equals() and uses Object.hashCode() error is defined as follows:
     The equals(Object) method is overridden but the hashCode() is not. The class insteads inherits the implementation of hashCode() from java.lang.Object. This returns the identity of the hash code. This error is a warning that the class might violate the rule that equal objects must have equal hashcodes. 


As recommended, if instances of this class will not be inserted into the HashMap/HashTable, the following hashCode implementation can be used:


public int hashCode() {
 assert false : "hashCode not designed";
 return 42; // any arbitrary constant will do
 }


PMD Tool
1. What Maven command did you use?
mvn clean compile site
1. Where does Maven put the report files?
The report files are in target/site. Target directory contains cpd, java-basic, java-empty, java.imports, java-unnecessary, java-unusedcode, and pmd. Site contains the pmd link to the summary of the report.
1. How many errors were found?
Two errors were found, in the Card.java and SirTommy files. Card.java file contain “Ensure you override both equals() and hashCode()” violation at line 91. SirTommy.java file contains “Useless parentheses.” at line 198.
1. Look at the error in the Card class and look at the line of code marked for the error. Is this the same error as the one FindBugs found?
PMD found error Card.java file contain “Ensure you override both equals() and hashCode()” violation at line 91. Findbugs found error “edu.worcester.cs.kwurst.cs242.Card defines equals and uses Object.hashCode()” at line 92. These are the same.


1. Look at the error in the SirTommy class and look at the line of code marked for the error. Would you have noticed this error if you were reviewing the code?
SirTommy.java file contains “Useless parentheses.” at line 198.


Line 198
// If the deck and waste piles are empty, the player won.
	if ((cardsLeft + deck.size()) == 0) {
	System.out.print(" You win!\n");
	return true;
	} else if (gameOver) { // The player quit, and loses.
	System.out.print(" You lost - try again.\n");
	return true;
	}
	return false; // Game is not over.
	}
	

As shown above, the “Useless parenthesis” error is easy to spot, so yes I would have noticed this error.